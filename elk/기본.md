## [구성 환경] 

statefulset으로 아래 컴포넌트 구성됨

```
elasticsearch-coordinating   0/6     148d
elasticsearch-data           0/42    148d
elasticsearch-ingest         0/6     148d
elasticsearch-master         0/2     148d
```

kibana는 deployment

기본적인 순서는

```
elasticserach-master (user password change) -> elasticserach-data -> elasticserach-coordinating, elasticsearch-ingest
```

### [잔여 리소스 삭제]

pod

```
kubectl scale statefulset elasticsearch-master --replicas=0 -n default
kubectl scale statefulset elasticsearch-data --replicas=0 -n default
kubectl scale statefulset elasticsearch-ingest --replicas=0 -n default
kubectl scale statefulset elasticsearch-coordinating --replicas=0 -n default
kubectl scale deploy kibana --replicas=0 -n default
```

pod force delete

```
kubectl get pods -n default | grep Terminating | awk '{print $1}' | xargs -I {} kubectl delete pod {} -n default --grace-period=0 --force
```

pvc

```
kubectl delete pvc --all -n default

[specific pvc delete]
kubectl delete pvc kibana -n default
```
